"use strict";(self.webpackChunksimple_financial_center=self.webpackChunksimple_financial_center||[]).push([[92],{8092:(At,A,a)=>{a.r(A),a.d(A,{CryptoModule:()=>Tt});var v=a(8583),y=a(8741),s=a(3018);class j{constructor(e="",t="",i="",n="",o="",c="",l=""){this.cryptoCode=e,this.cryptoName=t,this.fiatCode=i,this.exchangeRate=n,this.bidPrice=o,this.askPrice=c,this.time=l}}class N{constructor(e=[],t=[],i=[],n=[],o=[],c=[]){this.dates=e,this.opens=t,this.highs=i,this.lows=n,this.closes=o,this.volumes=c}}class U{constructor(e=[],t=[],i=[],n=[],o=[],c=[],l=[]){this.dates=e,this.opens=t,this.highs=i,this.lows=n,this.closes=o,this.volumes=c,this.marketCap=l}}var m=a(9765),B=a(5917),M=a(5435),G=a(5257),d=a(5345);class Q{constructor(e,t){this.notifier=e,this.source=t}call(e,t){return t.subscribe(new J(e,this.notifier,this.source))}}class J extends d.Ds{constructor(e,t,i){super(e),this.notifier=t,this.source=i}error(e){if(!this.isStopped){let t=this.errors,i=this.retries,n=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{t=new m.xQ;try{const{notifier:o}=this;i=o(t)}catch(o){return super.error(o)}n=(0,d.ft)(i,new d.IY(this))}this._unsubscribeAndRecycle(),this.errors=t,this.retries=i,this.retriesSubscription=n,t.next(e)}}_unsubscribe(){const{errors:e,retriesSubscription:t}=this;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:e}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)}}var W=a(3190),z=a(3637),Z=a(7393),O=a(1593);class K{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new R(e,this.delay,this.scheduler))}}class R extends Z.L{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,n=e.scheduler,o=e.destination;for(;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(o);if(i.length>0){const c=Math.max(0,i[0].time-n.now());this.schedule(e,c)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(R.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new X(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(O.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(O.P.createComplete()),this.unsubscribe()}}class X{constructor(e,t){this.time=e,this.notification=t}}var Y=a(5758),u=(()=>{return(r=u||(u={})).FUNCTION="function",r.CURRENCY_EXCHANGE_RATE="CURRENCY_EXCHANGE_RATE",r.CRYPTO_INTRADAY="CRYPTO_INTRADAY",r.DIGITAL_CURRENCY_DAILY="DIGITAL_CURRENCY_DAILY",r.DIGITAL_CURRENCY_WEEKLY="DIGITAL_CURRENCY_WEEKLY",r.DIGITAL_CURRENCY_MONTHLY="DIGITAL_CURRENCY_MONTHLY",u;var r})(),h=(()=>{return(r=h||(h={})).FROM_CURRENCY="from_currency",r.TO_CURRENCY="to_currency",r.SYMBOL="symbol",r.MARKET="market",r.INTERVAL="interval",r.OUTPUTSIZE="outputsize",r.DATATYPE="datatype",h;var r})(),_=a(1841);let F=(()=>{class r{constructor(t){this.http=t,this.apiUrl="https://alpha-vantage.p.rapidapi.com/query"}getCurrentExchangeRates(t,i){return this.getCurrentExchangeRatesRequest(t,i)}getDetailsExchangeRates(t,i){return(0,Y.D)([this.getIntradayExchangeRates(t,i),this.getDailyExchangeRates(t,i)])}getIntradayExchangeRates(t,i){return this.getIntradayExchangeRatesRequest(t,i)}getDailyExchangeRates(t,i){return this.getDailyExchangeRatesRequest(t,i)}getCurrentExchangeRatesRequest(t,i){return this.http.get(`${this.apiUrl}?${u.FUNCTION}=${u.CURRENCY_EXCHANGE_RATE}&${h.FROM_CURRENCY}=${t}&${h.TO_CURRENCY}=${i}&${h.DATATYPE}=json`)}getIntradayExchangeRatesRequest(t,i){return this.http.get(`${this.apiUrl}?${u.FUNCTION}=${u.CRYPTO_INTRADAY}&${h.SYMBOL}=${t}&${h.MARKET}=${i}&${h.INTERVAL}=5min&${h.OUTPUTSIZE}=compact&${h.DATATYPE}=json`)}getDailyExchangeRatesRequest(t,i){return this.http.get(`${this.apiUrl}?${u.FUNCTION}=${u.DIGITAL_CURRENCY_DAILY}&${h.SYMBOL}=${t}&${h.MARKET}=${i}&${h.DATATYPE}=json`)}}return r.\u0275fac=function(t){return new(t||r)(s.LFG(_.eN))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var k=a(6458);let x=(()=>{class r{constructor(t,i){this.dataApiService=t,this.snackBar=i,this.baseCurrency="",this.currentCrypto="",this.currentExchangeRates=new Map,this.currentExchangeRatesSubject=new m.xQ,this.intradayExchangeRates=new N,this.intradayExchangeRatesSubject=new m.xQ,this.dailyExchangeRates=new U,this.dailyExchangeRatesSubject=new m.xQ}sendRequestForData(t,i="USD"){this.dataApiService.getCurrentExchangeRates(t,i).pipe((0,M.h)(n=>!!n),(0,G.q)(1)).subscribe(n=>{n["Realtime Currency Exchange Rate"]&&this.currentExchangeRates.set(t,{cryptoCode:n["Realtime Currency Exchange Rate"]["1. From_Currency Code"],cryptoName:n["Realtime Currency Exchange Rate"]["2. From_Currency Name"],fiatCode:n["Realtime Currency Exchange Rate"]["3. To_Currency Code"],exchangeRate:n["Realtime Currency Exchange Rate"]["5. Exchange Rate"].slice(0,-4),bidPrice:n["Realtime Currency Exchange Rate"]["8. Bid Price"].slice(0,-4),askPrice:n["Realtime Currency Exchange Rate"]["9. Ask Price"].slice(0,-4),time:n["Realtime Currency Exchange Rate"]["6. Last Refreshed"]+" "+n["Realtime Currency Exchange Rate"]["7. Time Zone"]}),this.currentExchangeRatesSubject.next(this.currentExchangeRates)},n=>{this.displayErrorInfo(n)})}displayErrorInfo(t){this.snackBar.open(429!==t.status?"Error: Unknown error.":"Error: Too many requests in 1 minute. \n        Due to limited subscription plan of cryptocurrency REST API,\n        there is available only 5 request per minute. Sorry for inconvenience.",void 0,{duration:1e4})}sendRequestForDetails(t,i){this.dataApiService.getDetailsExchangeRates(t,i).pipe((0,M.h)(n=>!!n),function(r){return e=>e.lift(new Q(r,e))}(n=>n.pipe((0,W.w)(o=>(0,B.of)(o)),function(r,e=z.P){const i=function(r){return r instanceof Date&&!isNaN(+r)}(r)?+r-e.now():Math.abs(r);return n=>n.lift(new K(i,e))}(60500)))).subscribe(n=>{this.parseIntradayExchangeData(n[0]),this.parseDailyExchangeData(n[1])},n=>{this.displayErrorInfo(n)})}setBaseCurrency(t){this.baseCurrency=t}setCurrentCrypto(t){this.currentCrypto=t}getCurrentExchangeRates(){return this.currentExchangeRatesSubject}getIntradayExchangeRates(){return this.intradayExchangeRatesSubject}getDailyExchangeRates(){return this.dailyExchangeRatesSubject}getBaseCurrency(){return this.baseCurrency}getCurrentCrypto(){return this.currentCrypto}parseIntradayExchangeData(t){var i,n,o,c,l,p,E,b,S,D,T,I;if(t["Time Series Crypto (5min)"]){for(const[It,g]of Object.entries(t["Time Series Crypto (5min)"]))null===(i=this.intradayExchangeRates.dates)||void 0===i||i.push(It.toString()),null===(n=this.intradayExchangeRates.opens)||void 0===n||n.push(Number(g["1. open"])),null===(o=this.intradayExchangeRates.highs)||void 0===o||o.push(Number(g["2. high"])),null===(c=this.intradayExchangeRates.lows)||void 0===c||c.push(Number(g["3. low"])),null===(l=this.intradayExchangeRates.closes)||void 0===l||l.push(Number(g["4. close"])),null===(p=this.intradayExchangeRates.volumes)||void 0===p||p.push(Number(g["5. volume"]));null===(E=this.intradayExchangeRates.dates)||void 0===E||E.reverse(),null===(b=this.intradayExchangeRates.opens)||void 0===b||b.reverse(),null===(S=this.intradayExchangeRates.highs)||void 0===S||S.reverse(),null===(D=this.intradayExchangeRates.lows)||void 0===D||D.reverse(),null===(T=this.intradayExchangeRates.closes)||void 0===T||T.reverse(),null===(I=this.intradayExchangeRates.volumes)||void 0===I||I.reverse(),this.intradayExchangeRatesSubject.next(this.intradayExchangeRates)}}parseDailyExchangeData(t){if(t["Time Series (Digital Currency Daily)"]){for(const[i,n]of Object.entries(t["Time Series (Digital Currency Daily)"])){const o=Object.keys(Object.entries(t["Time Series (Digital Currency Daily)"])[1][1]);this.dailyExchangeRates.dates.push(i.toString()),this.dailyExchangeRates.opens.push(Number(n[o[0]])),this.dailyExchangeRates.highs.push(Number(n[o[2]])),this.dailyExchangeRates.lows.push(Number(n[o[4]])),this.dailyExchangeRates.closes.push(Number(n[o[6]])),this.dailyExchangeRates.volumes.push(Number(n[o[8]])),this.dailyExchangeRates.marketCap.push(Number(n[o[9]]))}this.dailyExchangeRates.dates.reverse(),this.dailyExchangeRates.opens.reverse(),this.dailyExchangeRates.highs.reverse(),this.dailyExchangeRates.lows.reverse(),this.dailyExchangeRates.closes.reverse(),this.dailyExchangeRates.volumes.reverse(),this.dailyExchangeRates.marketCap.reverse(),this.dailyExchangeRatesSubject.next(this.dailyExchangeRates)}}}return r.\u0275fac=function(t){return new(t||r)(s.LFG(F),s.LFG(k.ux))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var f=a(3738),L=a(1769);let tt=(()=>{class r{constructor(t,i){this.router=t,this.dataManagerService=i,this.cryptoCode="",this.baseCurrency="",this.cryptoInfo=new j,this.errorMessage=""}ngOnInit(){this.dataManagerService.sendRequestForData(this.cryptoCode,this.baseCurrency),this.dataManagerService.getCurrentExchangeRates().subscribe(t=>{this.errorMessage="";const i=t.get(this.cryptoCode);i&&(this.cryptoInfo=i)})}showDetails(){this.router.navigate(["crypto",`${this.cryptoInfo.cryptoCode}`])}}return r.\u0275fac=function(t){return new(t||r)(s.Y36(y.F0),s.Y36(x))},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-single-crypto-info"]],inputs:{cryptoCode:"cryptoCode",baseCurrency:"baseCurrency"},decls:21,vars:8,consts:[[1,"crypto-info",3,"click"],[1,"crypto-info__img",3,"src"],[1,"crypto-info__subtitle"],[1,"crypto-info__title"],[1,"crypto-info__content"],["inset","",1,"crypto-info__divider"]],template:function(t,i){1&t&&(s.TgZ(0,"mat-card",0),s.NdJ("click",function(){return i.showDetails()}),s._UZ(1,"img",1),s.TgZ(2,"mat-card-subtitle",2),s._uU(3),s.qZA(),s._UZ(4,"br"),s.TgZ(5,"mat-card-title",3),s._uU(6),s.qZA(),s.TgZ(7,"mat-card-content",4),s.TgZ(8,"p"),s.TgZ(9,"b"),s._uU(10),s.qZA(),s.qZA(),s._UZ(11,"mat-divider",5),s.TgZ(12,"p"),s._uU(13),s.qZA(),s.TgZ(14,"p"),s._uU(15),s.qZA(),s._UZ(16,"mat-divider",5),s.TgZ(17,"p"),s._uU(18,"Last update:"),s._UZ(19,"br"),s._uU(20),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(1),s.MGl("src","assets/crypto-icons/",i.cryptoInfo.cryptoCode,".png",s.LSH),s.xp6(2),s.Oqu(i.cryptoInfo.cryptoName),s.xp6(3),s.Oqu(i.cryptoCode),s.xp6(4),s.AsE("",i.cryptoInfo.exchangeRate," ",i.cryptoInfo.fiatCode,""),s.xp6(3),s.hij("bid: ",i.cryptoInfo.bidPrice,""),s.xp6(2),s.hij("ask: ",i.cryptoInfo.askPrice,""),s.xp6(5),s.Oqu(i.cryptoInfo.time))},directives:[f.a8,f.$j,f.n5,f.dn,L.d],styles:['.crypto-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#a5d8ff;font-family:"Lucida Console","Courier New",monospace;border:3px solid grey;color:#fff;background-color:#5e2750;margin-bottom:10px;cursor:pointer}.crypto-info[_ngcontent-%COMP%]:hover{background-color:#3bc14a;transform:scale(1.1)}.crypto-info__title[_ngcontent-%COMP%]{margin:10px}.crypto-info__subtitle[_ngcontent-%COMP%]{margin:5px;font-weight:500;color:#fff}.crypto-info__divider[_ngcontent-%COMP%]{background-color:#fff}.crypto-info__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.crypto-info__img[_ngcontent-%COMP%]{margin:5px}']}),r})();function et(r,e){if(1&r&&(s.TgZ(0,"div"),s._UZ(1,"app-single-crypto-info",2),s.qZA()),2&r){const t=e.$implicit,i=s.oxw();s.xp6(1),s.Q6J("cryptoCode",t)("baseCurrency",i.baseCurrency)}}let st=(()=>{class r{constructor(){this.cryptoSymbols=["BTC","ETH","ADA"],this.baseCurrency="USD",this.cryptosData=[]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-crypto"]],decls:3,vars:1,consts:[[1,"crypto-container"],[4,"ngFor","ngForOf"],[3,"cryptoCode","baseCurrency"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0),s.YNc(1,et,2,2,"div",1),s.qZA(),s._UZ(2,"router-outlet")),2&t&&(s.xp6(1),s.Q6J("ngForOf",i.cryptoSymbols))},directives:[v.sg,y.lC,tt],styles:[".crypto-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1em}.crypto-container__single-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}@media (max-width: 800px){.crypto-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}"]}),r})();var rt=a(5319),it=a(6693),nt=a(9796),C=a(377);class ot{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new ct(e,this.resultSelector))}}class ct extends Z.L{constructor(e,t,i=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;(0,nt.k)(e)?t.push(new lt(e)):t.push("function"==typeof e[C.hZ]?new ht(e[C.hZ]()):new ut(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let i=0;i<t;i++){let n=e[i];n.stillUnsubscribed?this.destination.add(n.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,i=this.destination;for(let c=0;c<t;c++){let l=e[c];if("function"==typeof l.hasValue&&!l.hasValue())return}let n=!1;const o=[];for(let c=0;c<t;c++){let l=e[c],p=l.next();if(l.hasCompleted()&&(n=!0),p.done)return void i.complete();o.push(p.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),n&&i.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}class ht{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class lt{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[C.hZ](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ut extends d.Ds{constructor(e,t,i){super(e),this.parent=t,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[C.hZ](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return(0,d.ft)(this.observable,new d.IY(this))}}var dt=a(4186),pt=a(2620);const P=function(r,e){return[r,e]},yt=function(){return["highs","lows"]},w=function(r){return[r]};function ft(r,e){if(1&r&&(s.TgZ(0,"div",2),s._UZ(1,"app-chart",3),s._UZ(2,"br"),s._UZ(3,"app-chart",4),s._UZ(4,"br"),s._UZ(5,"app-chart",5),s._UZ(6,"br"),s._UZ(7,"app-chart",6),s.qZA()),2&r){const t=s.oxw();s.xp6(1),s.Q6J("values",s.WLB(9,P,t.dailyData.highs,t.dailyData.lows))("dates",t.dailyData.dates)("name",s.DdM(12,yt)),s.xp6(2),s.Q6J("values",s.VKq(13,w,t.dailyData.volumes))("dates",t.dailyData.dates),s.xp6(2),s.Q6J("values",s.WLB(15,P,t.intradayData.highs,t.intradayData.lows))("dates",t.intradayData.dates),s.xp6(2),s.Q6J("values",s.VKq(18,w,t.intradayData.volumes))("dates",t.intradayData.dates)}}function gt(r,e){1&r&&(s.TgZ(0,"div",2),s._UZ(1,"div",7),s.qZA())}const mt=[{path:"",component:st},{path:":cryptoCode",component:(()=>{class r{constructor(t,i,n){this.activatedRoute=t,this.dataManagerService=i,this.baseCurrencyService=n,this.intradayData=new N,this.dailyData=new U,this.detailsSubscription=new rt.w,this.cryptoCode="",this.activatedRoute.params.subscribe(o=>{this.cryptoCode=o.cryptoCode})}ngOnInit(){this.dataManagerService.sendRequestForDetails(this.cryptoCode,"USD"),this.detailsSubscription=function(...r){const e=r[r.length-1];return"function"==typeof e&&r.pop(),(0,it.n)(r,void 0).lift(new ot(e))}(this.dataManagerService.getIntradayExchangeRates(),this.dataManagerService.getDailyExchangeRates()).subscribe(t=>{console.log(t),this.intradayData=t[0],this.dailyData=t[1]})}ngOnDestroy(){this.detailsSubscription.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(s.Y36(y.gz),s.Y36(x),s.Y36(dt.i))},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-details"]],decls:3,vars:2,consts:[["class","details-charts",4,"ngIf","ngIfElse"],["noData",""],[1,"details-charts"],["title","Prices daily","type","scatter",3,"values","dates","name"],["title","Volumes daily","type","bar",3,"values","dates"],["title","Prices today","type","scatter",3,"values","dates"],["title","Volumes today","type","bar",3,"values","dates"],[1,"loader"]],template:function(t,i){if(1&t&&(s.YNc(0,ft,8,20,"div",0),s.YNc(1,gt,2,0,"ng-template",null,1,s.W1O)),2&t){const n=s.MAs(2);s.Q6J("ngIf",i.dailyData.dates.length>1)("ngIfElse",n)}},directives:[v.O5,pt.x],styles:[".details-charts[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:1em}.loader[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:120px;height:120px;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),r})()}];let Ct=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[y.Bz.forChild(mt)],y.Bz]}),r})();var vt=a(7441),Rt=a(8295),$=a(3679),xt=a(2522),Et=a(1095),bt=a(3356);let St=(()=>{class r{constructor(t,i){this.dataManagerService=t,this.dataApiService=i}resolve(t,i){return this.dataManagerService.sendRequestForDetails("BTC",this.dataManagerService.getBaseCurrency()),(0,Y.D)([this.dataManagerService.getIntradayExchangeRates(),this.dataManagerService.getDailyExchangeRates()])}}return r.\u0275fac=function(t){return new(t||r)(s.LFG(x),s.LFG(F))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Dt=a(5209);let Tt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({providers:[St],imports:[[v.ez,Ct,vt.LD,Rt.lN,$.UX,xt.g0,$.u5,f.QW,L.t,bt.o9,Et.ot,Dt.m]]}),r})()}}]);